"use strict";var _createClass=function(){function i(o,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}return function(o,e,t){return e&&i(o.prototype,e),t&&i(o,t),o}}();function _classCallCheck(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}$(function(){for(var e=$(".thumbnails li"),o=0;o<e.length;o++)!function(o){e.eq(o).click(function(){$(".show_case").css({backgroundImage:"url(./images/imgDetails/show0"+(o+1)+"s.webp)"}),$(".big_box").css({backgroundImage:"url(./images/imgDetails/show0"+(o+1)+"b.webp)"}),$(".thumbnails li").eq(o).css({border:"2px solid #f60",margin:"0 10px 0 0",opacity:1}),$(".thumbnails li").eq(o).siblings().css({border:"1px solid #d6d6d6",margin:"1px 10px 1px 1px",opacity:.4})})}(o)});var Magnifier=function(){function i(o,e,t){_classCallCheck(this,i),this.smallBox=o,this.bigBox=e,this.mask=t}return _createClass(i,[{key:"onmouseover",value:function(){var o=this;this.smallBox.onmouseover=function(){o.bigBox.style.display="block",o.mask.style.display="block"}}},{key:"onmouseout",value:function(){var o=this;this.smallBox.onmouseout=function(){o.bigBox.style.display="none",o.mask.style.display="none"}}},{key:"onmousemove",value:function(){var r=this;this.smallBox.onmousemove=function(o){var e=o||event,t=e.pageX-r.smallBox.offsetLeft-r.mask.offsetWidth+20,i=e.pageY-r.smallBox.offsetTop-r.mask.offsetHeight-80;t<0&&(t=0),i<0&&(i=0);var s=r.smallBox.offsetWidth-r.mask.offsetWidth;s<t&&(t=s);var a=r.smallBox.offsetHeight-r.mask.offsetHeight;a<i&&(i=a),r.mask.style.left=t+"px",r.mask.style.top=i+"px";var n=r.bigBox.offsetWidth*t/r.mask.offsetWidth,l=r.bigBox.offsetHeight*i/r.mask.offsetHeight;r.bigBox.style.backgroundPositionX=-n+"px",r.bigBox.style.backgroundPositionY=-l+"px"}}}]),i}(),oSmallBox=document.querySelector(".show_case"),oBigBox=document.querySelector(".big_box"),oMask=document.querySelector(".mask"),mf=new Magnifier(oSmallBox,oBigBox,oMask);function fun1(o){var e=JSON.parse(o),t=e[0].bimg.split(","),i=e[0].simg.split(","),s=e[0].ssimg.split(","),a=e[0].information,n=e[0].size,l=e[0].color,r=e[0].price;$(".big_box").css({backgroundImage:"url(./images/imgDetails/"+t[0]+")"}),$(".show_case").css({backgroundImage:"url(./images/imgDetails/"+i[0]+")"});for(var c=0;c<s.length;c++)$("#img0"+(c+1)).attr("src","images/imgDetails/"+s[c]);$(".titlee01").html(a),$(".spec_list").html(n),$(".colorh").html(l),$(".newprice").html(r)}mf.onmouseover(),mf.onmouseout(),mf.onmousemove(),$(function(){$(".share .share_right i").eq(0).click(function(){$(".share .share_right i").css({backgroundImage:"url(./images/imgDetails/headJump02.png)",backgroundPositionX:"-25px",backgroundPositionY:"-23px"})})}),$(function(){$.ajax({url:"php/details.php",type:"get",data:"id=a1",success:function(o){fun1(o)},error:function(){alert("后台连接失败")}})}),$(function(){var o=Number($(".goods_numm").val());$(".pre").click(function(){1<$(".goods_numm").val()&&$(".goods_numm").val(--o)}),$(".nex").click(function(){$(".goods_numm").val(++o)})}),$(function(){$(".chat").click(function(){$.ajax({url:"php/xqygsjk.php",type:"get",data:"id=a1&img="+$("#img01").attr("src")+"&information="+$(".titlee01").html()+"&color="+$(".colorh").html()+"&size="+$(".spec_list").html()+"&price="+$(".newprice").html()+"&num="+$(".goods_numm").val(),success:function(){},error:function(){alert("后台连接失败")}})})}),$(function(){var o=JSON.parse(localStorage.getItem("login"));$(".chat").click(function(){1==o?$(location).prop("href","shoppingChat.html"):$(location).prop("href","login.html")})});